<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8">
<title>Sanskrit Spinner KBC Quiz</title>

<style>
body{ text-align:center;font-family:sans-serif;background:#eef2ff;}
h1{color:#1a237e;}

#wheelBox{width:320px;height:320px;margin:25px auto;position:relative;}
#wheel{
 width:100%;height:100%;border-radius:50%;
 background:conic-gradient(
 #ffcc80 0deg 45deg,#ffab91 45deg 90deg,
 #ce93d8 90deg 135deg,#90caf9 135deg 180deg,
 #a5d6a7 180deg 225deg,#fff59d 225deg 270deg,
 #ef9a9a 270deg 315deg,#b39ddb 315deg 360deg);
 border:8px solid #333;cursor:grab;
 transition:transform 2.5s ease-out;
}
#pointer{
 position:absolute;top:-15px;left:50%;
 transform:translateX(-50%);
 border-left:15px solid transparent;
 border-right:15px solid transparent;
 border-bottom:30px solid red;
}

#timer{font-size:18px;font-weight:bold;color:#c62828;margin:10px;}

.option{
 background:#fff;padding:10px;margin:8px auto;width:260px;
 border-radius:6px;border:2px solid #ccc;cursor:pointer;
}
.option.correct{background:#c8e6c9;border-color:green;}
.option.wrong{background:#ffcdd2;border-color:red;}
.option.disabled{opacity:0.5;pointer-events:none;}

.correctText{color:green;font-weight:bold;}
.wrongText{color:red;font-weight:bold;}

#lifelines{margin-top:10px;}
.lifelineBtn{padding:8px 12px;margin:5px;font-size:14px;cursor:pointer;}
</style>
</head>

<body>

<h1>üìö ‡§∏‡§Ç‡§∏‡•ç‡§ï‡•É‡§§ ‚Äì KBC ‡§∏‡•ç‡§™‡§ø‡§®‡§∞ ‡§ï‡•ç‡§µ‡§ø‡§ú‡§º</h1>

<div id="wheelBox">
 <div id="pointer"></div>
 <div id="wheel"></div>
</div>

<div id="timer">‚è≥ Time: 60s</div>
<div id="question"></div>
<div id="options"></div>
<div id="result"></div>

<div id="lifelines">
 <button class="lifelineBtn" onclick="useHelp()">‚òé Help Line</button>
 <button class="lifelineBtn" onclick="useFifty()">50-50</button>
</div>

<button onclick="showAnswer()">Show Answer</button>

<audio id="buzzer">
 <source src="https://actions.google.com/sounds/v1/alarms/buzzer.ogg">
</audio>

<script>
const wheel=document.getElementById("wheel");
const questionDiv=document.getElementById("question");
const optionsDiv=document.getElementById("options");
const resultDiv=document.getElementById("result");
const timerDiv=document.getElementById("timer");
const buzzer=document.getElementById("buzzer");

let rotation=0,mode="";
let correctAnswer="",correctVachan="";
let answered=false,helpUsed=false,fiftyUsed=false;
let timeLeft=60,timerInterval=null;

/* DATA */
const vibhakti=["‡§™‡•ç‡§∞‡§•‡§Æ‡§æ","‡§¶‡•ç‡§µ‡§ø‡§§‡•Ä‡§Ø‡§æ","‡§§‡•É‡§§‡•Ä‡§Ø‡§æ","‡§ö‡§§‡•Å‡§∞‡•ç‡§•‡•Ä","‡§™‡§Ç‡§ö‡§Æ‡•Ä","‡§∑‡§∑‡•ç‡§†‡•Ä","‡§∏‡§™‡•ç‡§§‡§Æ‡•Ä","‡§∏‡§Ç‡§¨‡•ã‡§ß‡§®"];
const shabd=["‡§∞‡§æ‡§Æ","‡§≠‡§æ‡§®‡•Å","‡§Æ‡•Å‡§®‡§ø","‡§Æ‡§§‡§ø","‡§™‡§ø‡§§‡§æ","‡§ß‡§Æ‡§®‡•Ä","‡§≠‡•Ä‡§∑‡§ú"];

const answers={
 "‡§∞‡§æ‡§Æ":{"‡§™‡•ç‡§∞‡§•‡§Æ‡§æ":"‡§∞‡§æ‡§Æ‡§É","‡§¶‡•ç‡§µ‡§ø‡§§‡•Ä‡§Ø‡§æ":"‡§∞‡§æ‡§Æ‡§Æ‡•ç","‡§§‡•É‡§§‡•Ä‡§Ø‡§æ":"‡§∞‡§æ‡§Æ‡•á‡§£","‡§ö‡§§‡•Å‡§∞‡•ç‡§•‡•Ä":"‡§∞‡§æ‡§Æ‡§æ‡§Ø","‡§™‡§Ç‡§ö‡§Æ‡•Ä":"‡§∞‡§æ‡§Æ‡§æ‡§§‡•ç","‡§∑‡§∑‡•ç‡§†‡•Ä":"‡§∞‡§æ‡§Æ‡§∏‡•ç‡§Ø","‡§∏‡§™‡•ç‡§§‡§Æ‡•Ä":"‡§∞‡§æ‡§Æ‡•á","‡§∏‡§Ç‡§¨‡•ã‡§ß‡§®":"‡§π‡•á ‡§∞‡§æ‡§Æ"},
 "‡§≠‡§æ‡§®‡•Å":{"‡§™‡•ç‡§∞‡§•‡§Æ‡§æ":"‡§≠‡§æ‡§®‡•Å‡§É","‡§¶‡•ç‡§µ‡§ø‡§§‡•Ä‡§Ø‡§æ":"‡§≠‡§æ‡§®‡•Å‡§Æ‡•ç","‡§§‡•É‡§§‡•Ä‡§Ø‡§æ":"‡§≠‡§æ‡§®‡•Å‡§®‡§æ","‡§ö‡§§‡•Å‡§∞‡•ç‡§•‡•Ä":"‡§≠‡§æ‡§®‡§µ‡•á","‡§™‡§Ç‡§ö‡§Æ‡•Ä":"‡§≠‡§æ‡§®‡•ã‡§É","‡§∑‡§∑‡•ç‡§†‡•Ä":"‡§≠‡§æ‡§®‡•ã‡§É","‡§∏‡§™‡•ç‡§§‡§Æ‡•Ä":"‡§≠‡§æ‡§®‡•å","‡§∏‡§Ç‡§¨‡•ã‡§ß‡§®":"‡§π‡•á ‡§≠‡§æ‡§®‡•ã"},
 "‡§Æ‡•Å‡§®‡§ø":{"‡§™‡•ç‡§∞‡§•‡§Æ‡§æ":"‡§Æ‡•Å‡§®‡§ø‡§É","‡§¶‡•ç‡§µ‡§ø‡§§‡•Ä‡§Ø‡§æ":"‡§Æ‡•Å‡§®‡§ø‡§Æ‡•ç","‡§§‡•É‡§§‡•Ä‡§Ø‡§æ":"‡§Æ‡•Å‡§®‡§ø‡§®‡§æ","‡§ö‡§§‡•Å‡§∞‡•ç‡§•‡•Ä":"‡§Æ‡•Å‡§®‡§Ø‡•á","‡§™‡§Ç‡§ö‡§Æ‡•Ä":"‡§Æ‡•Å‡§®‡•á‡§É","‡§∑‡§∑‡•ç‡§†‡•Ä":"‡§Æ‡•Å‡§®‡•á‡§É","‡§∏‡§™‡•ç‡§§‡§Æ‡•Ä":"‡§Æ‡•Å‡§®‡•å","‡§∏‡§Ç‡§¨‡•ã‡§ß‡§®":"‡§π‡•á ‡§Æ‡•Å‡§®‡•á"},
 "‡§Æ‡§§‡§ø":{"‡§™‡•ç‡§∞‡§•‡§Æ‡§æ":"‡§Æ‡§§‡§ø‡§É","‡§¶‡•ç‡§µ‡§ø‡§§‡•Ä‡§Ø‡§æ":"‡§Æ‡§§‡§ø‡§Æ‡•ç","‡§§‡•É‡§§‡•Ä‡§Ø‡§æ":"‡§Æ‡§§‡•ç‡§Ø‡§æ","‡§ö‡§§‡•Å‡§∞‡•ç‡§•‡•Ä":"‡§Æ‡§§‡•ç‡§Ø‡•à","‡§™‡§Ç‡§ö‡§Æ‡•Ä":"‡§Æ‡§§‡•ç‡§Ø‡§æ‡§É","‡§∑‡§∑‡•ç‡§†‡•Ä":"‡§Æ‡§§‡•ç‡§Ø‡§æ‡§É","‡§∏‡§™‡•ç‡§§‡§Æ‡•Ä":"‡§Æ‡§§‡•ç‡§Ø‡§æ‡§Æ‡•ç","‡§∏‡§Ç‡§¨‡•ã‡§ß‡§®":"‡§π‡•á ‡§Æ‡§§‡•á"},
 "‡§™‡§ø‡§§‡§æ":{"‡§™‡•ç‡§∞‡§•‡§Æ‡§æ":"‡§™‡§ø‡§§‡§æ","‡§¶‡•ç‡§µ‡§ø‡§§‡•Ä‡§Ø‡§æ":"‡§™‡§ø‡§§‡§∞‡§Æ‡•ç","‡§§‡•É‡§§‡•Ä‡§Ø‡§æ":"‡§™‡§ø‡§§‡•ç‡§∞‡§æ","‡§ö‡§§‡•Å‡§∞‡•ç‡§•‡•Ä":"‡§™‡§ø‡§§‡•ç‡§∞‡•á","‡§™‡§Ç‡§ö‡§Æ‡•Ä":"‡§™‡§ø‡§§‡•Å‡§É","‡§∑‡§∑‡•ç‡§†‡•Ä":"‡§™‡§ø‡§§‡•Å‡§É","‡§∏‡§™‡•ç‡§§‡§Æ‡•Ä":"‡§™‡§ø‡§§‡§∞‡§ø","‡§∏‡§Ç‡§¨‡•ã‡§ß‡§®":"‡§π‡•á ‡§™‡§ø‡§§‡§É"},
 "‡§ß‡§Æ‡§®‡•Ä":{"‡§™‡•ç‡§∞‡§•‡§Æ‡§æ":"‡§ß‡§Æ‡§®‡•Ä","‡§¶‡•ç‡§µ‡§ø‡§§‡•Ä‡§Ø‡§æ":"‡§ß‡§Æ‡§®‡•Ä‡§Æ‡•ç","‡§§‡•É‡§§‡•Ä‡§Ø‡§æ":"‡§ß‡§Æ‡§®‡•ç‡§Ø‡§æ","‡§ö‡§§‡•Å‡§∞‡•ç‡§•‡•Ä":"‡§ß‡§Æ‡§®‡•ç‡§Ø‡•à","‡§™‡§Ç‡§ö‡§Æ‡•Ä":"‡§ß‡§Æ‡§®‡•ç‡§Ø‡§æ‡§É","‡§∑‡§∑‡•ç‡§†‡•Ä":"‡§ß‡§Æ‡§®‡•ç‡§Ø‡§æ‡§É","‡§∏‡§™‡•ç‡§§‡§Æ‡•Ä":"‡§ß‡§Æ‡§®‡•ç‡§Ø‡§æ‡§Æ‡•ç","‡§∏‡§Ç‡§¨‡•ã‡§ß‡§®":"‡§π‡•á ‡§ß‡§Æ‡§®‡§ø"},
 "‡§≠‡•Ä‡§∑‡§ú":{"‡§™‡•ç‡§∞‡§•‡§Æ‡§æ":"‡§≠‡•Ä‡§∑‡§ú‡§É","‡§¶‡•ç‡§µ‡§ø‡§§‡•Ä‡§Ø‡§æ":"‡§≠‡•Ä‡§∑‡§ú‡§Æ‡•ç","‡§§‡•É‡§§‡•Ä‡§Ø‡§æ":"‡§≠‡•Ä‡§∑‡§ú‡•á‡§®","‡§ö‡§§‡•Å‡§∞‡•ç‡§•‡•Ä":"‡§≠‡•Ä‡§∑‡§ú‡§æ‡§Ø","‡§™‡§Ç‡§ö‡§Æ‡•Ä":"‡§≠‡•Ä‡§∑‡§ú‡§æ‡§§‡•ç","‡§∑‡§∑‡•ç‡§†‡•Ä":"‡§≠‡•Ä‡§∑‡§ú‡§∏‡•ç‡§Ø","‡§∏‡§™‡•ç‡§§‡§Æ‡•Ä":"‡§≠‡•Ä‡§∑‡§ú‡•á","‡§∏‡§Ç‡§¨‡•ã‡§ß‡§®":"‡§π‡•á ‡§≠‡•Ä‡§∑‡§ú"}
};

const vachanData={
 "‡§∞‡§æ‡§Æ":["‡§∞‡§æ‡§Æ‡§É","‡§∞‡§æ‡§Æ‡•å","‡§∞‡§æ‡§Æ‡§æ‡§É","‡§∞‡§æ‡§Æ‡•á‡§£","‡§∞‡§æ‡§Æ‡§æ‡§≠‡•ç‡§Ø‡§æ‡§Æ‡•ç","‡§∞‡§æ‡§Æ‡•à‡§É"],
 "‡§≠‡§æ‡§®‡•Å":["‡§≠‡§æ‡§®‡•Å‡§É","‡§≠‡§æ‡§®‡•Ç","‡§≠‡§æ‡§®‡§µ‡§É","‡§≠‡§æ‡§®‡•Å‡§®‡§æ","‡§≠‡§æ‡§®‡•Å‡§≠‡•ç‡§Ø‡§æ‡§Æ‡•ç","‡§≠‡§æ‡§®‡•Å‡§≠‡§ø‡§É"],
 "‡§Æ‡•Å‡§®‡§ø":["‡§Æ‡•Å‡§®‡§ø‡§É","‡§Æ‡•Å‡§®‡•Ä","‡§Æ‡•Å‡§®‡§Ø‡§É","‡§Æ‡•Å‡§®‡§ø‡§®‡§æ","‡§Æ‡•Å‡§®‡§ø‡§≠‡•ç‡§Ø‡§æ‡§Æ‡•ç","‡§Æ‡•Å‡§®‡§ø‡§≠‡§ø‡§É"],
 "‡§Æ‡§§‡§ø":["‡§Æ‡§§‡§ø‡§É","‡§Æ‡§§‡•Ä","‡§Æ‡§§‡§Ø‡§É","‡§Æ‡§§‡•ç‡§Ø‡§æ","‡§Æ‡§§‡§ø‡§≠‡•ç‡§Ø‡§æ‡§Æ‡•ç","‡§Æ‡§§‡§ø‡§≠‡§ø‡§É"],
 "‡§™‡§ø‡§§‡§æ":["‡§™‡§ø‡§§‡§æ","‡§™‡§ø‡§§‡§∞‡•å","‡§™‡§ø‡§§‡§∞‡§É","‡§™‡§ø‡§§‡•ç‡§∞‡§æ","‡§™‡§ø‡§§‡•É‡§≠‡•ç‡§Ø‡§æ‡§Æ‡•ç","‡§™‡§ø‡§§‡•É‡§≠‡§ø‡§É"],
 "‡§ß‡§Æ‡§®‡•Ä":["‡§ß‡§Æ‡§®‡•Ä","‡§ß‡§Æ‡§®‡•ç‡§Ø‡•å","‡§ß‡§Æ‡§®‡•ç‡§Ø‡§É","‡§ß‡§Æ‡§®‡•ç‡§Ø‡§æ","‡§ß‡§Æ‡§®‡•ç‡§Ø‡§æ‡§≠‡•ç‡§Ø‡§æ‡§Æ‡•ç","‡§ß‡§Æ‡§®‡•ç‡§Ø‡§æ‡§≠‡§ø‡§É"],
 "‡§≠‡•Ä‡§∑‡§ú":["‡§≠‡•Ä‡§∑‡§ú‡§É","‡§≠‡•Ä‡§∑‡§ú‡•å","‡§≠‡•Ä‡§∑‡§ú‡§æ‡§É","‡§≠‡•Ä‡§∑‡§ú‡•á‡§®","‡§≠‡•Ä‡§∑‡§ú‡§æ‡§≠‡•ç‡§Ø‡§æ‡§Æ‡•ç","‡§≠‡•Ä‡§∑‡§ú‡•à‡§É"]
};
const vachans=["‡§è‡§ï‡§µ‡§ö‡§®","‡§¶‡•ç‡§µ‡§ø‡§µ‡§ö‡§®","‡§¨‡§π‡•Å‡§µ‡§ö‡§®"];

/* SPIN */
wheel.onmousedown=spin;
wheel.ontouchstart=spin;
function spin(){
 rotation+=Math.random()*360+720;
 wheel.style.transform=`rotate(${rotation}deg)`;
 setTimeout(makeQuestion,2500);
}

/* TIMER */
function startTimer(){
 clearInterval(timerInterval);
 timeLeft=60;
 timerDiv.innerHTML="‚è≥ Time: 60s";
 timerInterval=setInterval(()=>{
  timeLeft--;
  timerDiv.innerHTML="‚è≥ Time: "+timeLeft+"s";
  if(timeLeft<=0){
   clearInterval(timerInterval);
   if(!answered){
    answered=true;
    resultDiv.innerHTML="‚è∞ Time Over!";
    buzzer.play();
    disableAll();
   }
  }
 },1000);
}
function disableAll(){
 document.querySelectorAll(".option").forEach(o=>o.classList.add("disabled"));
}

/* QUESTION */
function makeQuestion(){
 optionsDiv.innerHTML="";
 resultDiv.innerHTML="";
 answered=false;helpUsed=false;fiftyUsed=false;
 correctAnswer="";correctVachan="";
 mode=Math.random()<0.5?"VIBHAKTI":"VACHAN";

 if(mode==="VIBHAKTI"){
  let vib=vibhakti[Math.floor(((rotation%360+360)%360)/45)];
  let word=shabd[Math.floor(Math.random()*shabd.length)];
  correctAnswer=answers[word][vib];
  questionDiv.innerHTML=`‚ùì ${word} ‚Äì <b>${vib} (‡§è‡§ï‡§µ‡§ö‡§®)</b>`;
  let opts=[correctAnswer];
  let all=Object.values(answers[word]);
  while(opts.length<4){
   let x=all[Math.floor(Math.random()*all.length)];
   if(!opts.includes(x)) opts.push(x);
  }
  opts.sort(()=>Math.random()-0.5);
  opts.forEach(o=>createOption(o,checkAnswer));
 }
 else{
  let w=Object.keys(vachanData)[Math.floor(Math.random()*7)];
  let form=vachanData[w][Math.floor(Math.random()*6)];
  if(form.includes("‡§≠‡•ç‡§Ø‡§æ‡§Æ‡•ç")||form.includes("‡•å")) correctVachan="‡§¶‡•ç‡§µ‡§ø‡§µ‡§ö‡§®";
  else if(form.includes("‡§æ‡§É")||form.includes("‡•à‡§É")||form.includes("‡§≠‡§ø‡§É")) correctVachan="‡§¨‡§π‡•Å‡§µ‡§ö‡§®";
  else correctVachan="‡§è‡§ï‡§µ‡§ö‡§®";
  questionDiv.innerHTML=`‚ùì <b>${form}</b> ‚Äì ‡§Ø‡§π ‡§ï‡§ø‡§∏ ‡§µ‡§ö‡§® ‡§ï‡§æ ‡§∞‡•Ç‡§™ ‡§π‡•à?`;
  let opts=[...vachans,"‡§§‡•ç‡§∞‡§ø‡§µ‡§ö‡§®"].sort(()=>Math.random()-0.5).slice(0,4);
  opts.forEach(o=>createOption(o,checkVachan));
 }
 startTimer();
}

function createOption(text,fn){
 let d=document.createElement("div");
 d.className="option";
 d.innerText=text;
 d.onclick=()=>fn(d,text);
 optionsDiv.appendChild(d);
}

/* CHECK */
function checkAnswer(div,sel){
 if(answered) return;
 answered=true;clearInterval(timerInterval);disableAll();
 if(sel===correctAnswer){div.classList.add("correct");resultDiv.innerHTML="‚úî ‡§∏‡§π‡•Ä ‡§â‡§§‡•ç‡§§‡§∞";}
 else{div.classList.add("wrong");resultDiv.innerHTML="‚ùå ‡§ó‡§≤‡§§ ‡§â‡§§‡•ç‡§§‡§∞";buzzer.play();}
}
function checkVachan(div,sel){
 if(answered) return;
 answered=true;clearInterval(timerInterval);disableAll();
 if(sel===correctVachan){div.classList.add("correct");resultDiv.innerHTML="‚úî ‡§∏‡§π‡•Ä ‡§â‡§§‡•ç‡§§‡§∞";}
 else{div.classList.add("wrong");resultDiv.innerHTML="‚ùå ‡§ó‡§≤‡§§ ‡§â‡§§‡•ç‡§§‡§∞";buzzer.play();}
}

/* LIFELINES */
function useHelp(){
 if(helpUsed||answered) return;
 alert("üîé Hint: ‡§∂‡§¨‡•ç‡§¶ ‡§ï‡•á ‡§Ö‡§Ç‡§§ ‡§™‡§∞ ‡§ß‡•ç‡§Ø‡§æ‡§® ‡§¶‡•á‡§Ç");
 helpUsed=true;
}
function useFifty(){
 if(fiftyUsed||answered) return;
 let removed=0;
 document.querySelectorAll(".option").forEach(o=>{
  if(o.innerText!==correctAnswer && o.innerText!==correctVachan && removed<2){
   o.classList.add("disabled");removed++;
  }
 });
 fiftyUsed=true;
}

/* SHOW ANSWER */
function showAnswer(){
 if(!answered){alert("‡§™‡§π‡§≤‡•á ‡§â‡§§‡•ç‡§§‡§∞ ‡§¶‡•Ä‡§ú‡§ø‡§è");return;}
 let ans=mode==="VIBHAKTI"?correctAnswer:correctVachan;
 resultDiv.innerHTML=`‚úî ‡§∏‡§π‡•Ä ‡§â‡§§‡•ç‡§§‡§∞: <b>${ans}</b>`;
 resultDiv.className="correctText";
}
</script>

</body>
</html>
